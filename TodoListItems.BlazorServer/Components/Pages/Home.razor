@page "/"
@using TodoListItems.Application.Enum;
@using TodoListItems.Application;

<PageTitle>TODO list</PageTitle>

<h1>Mes tâches</h1>

<div class="d-flex flex-row">
    <div class="col-8">
        <button class="col-2 me-2" style="background-color:yellow;" @onclick="RefreshDatas">
            Toutes
        </button>
        @foreach (var item in Core.EnumDictionary<TODO_ItemsStatus>())
        {
            <button class="col-2 me-2" style="background-color:yellow;" @onclick="() => FilterToDoListItems(item.Key)">
                @item.Value
            </button>
        }
    </div>
    
    <div class="col-4 d-flex justify-content-end">
        <button @onclick="GoToCreate">Ajouter un élément</button>
    </div>
</div>

@foreach(var item in todo_ItemDTOs)
{
    <h2>@item.Title</h2>
    <p>@item.Description</p>
    <p>@item.todo_ItemsStatus.ToString()</p>
    <button @onclick="() => GoToEdit(item.IdItem)">Modifier</button>
    <button @onclick="() => UpdateStatus(item)">Terminer</button>
    <button @onclick="() => DeleteToDoItem(item.IdItem)">Supprimer</button>
}
